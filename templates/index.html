{% extends "base.html" %}

{% block content %}
<h3 ><strong>Hello</strong></h3>
{{f|safe}}
<p> 
  This is a Django based project where anyone from the batch 2018-22 can have a quick reference of their performance
   in different semesters by a table indicating minimal necessary things and a graph.
</p>

<div role="alert" class="alert alert-success mt-2">
  <strong> * Please choose your branch and fill accordingly the next field.</strong>

  <form class="row g-3" method="GET" action="/about" name="in" onsubmit="return validateForm()">
    <div class="col-md-4">
      <label for="branch" class="form-label">Branch</label>
      <select id="branch" name = "branch" class="form-select" onchange="nid()">
        <option selected>Choose...</option>
        <option>C S</option>
        <option>EC</option>
        <option>EE</option>
        <option>CE</option>
        <option>ME</option>
        <option>BT</option>
      </select>

      <div id="err" role="alert">
      </div>
    </div>

    <div class="col-md-6" id="nid"> 
    </div>

    <div class="col-12">
      <button type="submit" class="btn btn-primary">Submit</button>
    </div>
  </form>
</div>
{% endblock content %}

{% block js %}

<script>
  function validateForm() {
    var x = document.getElementById("branch").value;
    if (x == "Choose..."){
      var y = document.getElementById('err')
      y.className += "alert alert-danger mt-2";
      y.innerHTML="Please choose correct branch!";
      return false;
    }          
  }
  function nid(){
    if ( document.getElementById("branch").value == "CE"){
      document.getElementById("nid").innerHTML='<label for="name" class="form-label">College ID</label><input type="number" class="form-control" name="name" id="name" minlength="180000" maxlength="999999" placeholder="college id" required>';
    }else{
      document.getElementById("nid").innerHTML='<label for="name" class="form-label">Name</label><input type="text" class="form-control" name="name" id="name" minlength="3" maxlength="40" placeholder="full name please" required>';
    }
  }
  </script>

{% endblock js %}
